<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Modern Invoice Earnings Calculator</title>
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
            rel="stylesheet"
        />
        <link rel="stylesheet" href="styles.css" />

        <style>
            #client-list option {
                display: none;
            }
        </style>
    </head>
    <body>
        <script>
            const API_BASE_URL = "http://localhost:3000";
        </script>
        <script>
            if (!localStorage.getItem("currentUser")) {
                window.location.href = "login.html";
            }
        </script>
        <div id="app" class="container mt-4">
            <h1 class="text-center mb-4">Modern Invoice Earnings Calculator</h1>

            <button id="logoutBtn" class="btn btn-secondary mb-3">
                Logout
            </button>

            <div class="row">
                <div class="col-md-6">
                    <h2>Add Invoice</h2>
                    <form id="invoice-form">
                        <div class="mb-3">
                            <label for="year" class="form-label">Year</label>
                            <select
                                id="year"
                                name="year"
                                class="form-select"
                                required
                            >
                                <option value="" disabled selected>
                                    Select Year
                                </option>
                                <option value="2024">2024</option>
                                <option value="2023">2023</option>
                                <option value="2022">2022</option>
                                <option value="2021">2021</option>
                                <option value="2020">2020</option>
                                <!-- Additional years will be populated by JavaScript -->
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="month" class="form-label">Month</label>
                            <select
                                id="month"
                                name="month"
                                class="form-select"
                                required
                            >
                                <option value="" disabled selected>
                                    Select Month
                                </option>
                                <option value="1">January</option>
                                <option value="2">February</option>
                                <option value="3">March</option>
                                <option value="4">April</option>
                                <option value="5">May</option>
                                <option value="6">June</option>
                                <option value="7">July</option>
                                <option value="8">August</option>
                                <option value="9">September</option>
                                <option value="10">October</option>
                                <option value="11">November</option>
                                <option value="12">December</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="client-name" class="form-label"
                                >Client Name</label
                            >
                            <input
                                type="text"
                                id="client-name"
                                name="client-name"
                                class="form-control"
                                list="client-list"
                                required
                            />
                            <datalist id="client-list">
                                <!-- Client suggestions will be populated by JavaScript -->
                            </datalist>
                        </div>
                        <div class="mb-3">
                            <label for="invoice-amount" class="form-label"
                                >Invoice Amount (EUR)</label
                            >
                            <input
                                type="number"
                                id="invoice-amount"
                                class="form-control"
                                step="0.01"
                                required
                            />
                        </div>

                        <div class="mb-3">
                            <label for="referral-bonus" class="form-label"
                                >Referral Bonus Percentage</label
                            >
                            <select
                                id="referral-bonus"
                                class="form-select"
                                required
                            >
                                <option value="0.05">5%</option>
                                <option value="0.10" selected>10%</option>
                                <option value="0.15">15%</option>
                            </select>
                        </div>
                        <div class="mb-3 form-check">
                            <input
                                type="checkbox"
                                id="paid-status"
                                class="form-check-input"
                            />
                            <label for="paid-status" class="form-check-label"
                                >Paid</label
                            >
                        </div>
                        <button type="submit" class="btn btn-primary">
                            Add Invoice
                        </button>
                    </form>
                </div>
                <div class="col-md-6">
                    <h2>Invoice List</h2>
                    <table id="invoice-list" class="table table-striped">
                        <thead>
                            <tr>
                                <th>Year</th>
                                <th>Month</th>
                                <th>Client</th>
                                <th>Amount</th>
                                <th>Referrer</th>
                                <th>Bonus %</th>
                                <th>Paid</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Invoice rows will be added here by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="row mt-4">
                <div class="col-12">
                    <h2>Quarterly Referral Bonus Summary</h2>
                    <div id="summary-tables">
                        <!-- Summary tables will be added here by JavaScript -->
                    </div>
                </div>
            </div>
        </div>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
        <script src="app.js"></script>
    </body>
</html>
